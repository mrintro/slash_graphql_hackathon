DOCKER RUN
docker run --rm -it -p 8080:8080 -p 9080:9080 -p 8000:8000 -v ~/dgraph:/dgraph dgraph/standalone:v20.03.0

UPDATE SCHEMA
remove-item alias:\curl
curl -X POST localhost:8080/admin/schema --data-binary '@schema.graphql'


query GetUser{
  getUser(user_id: "003"){
    name
    username
    friends{
      name
      username
    }
    sent_requests{
      name
      username
    }
    received_best_friend_requests{
      name
      username
    }
    received_requests{
      name
      username
    }
    best_friends{
      name
      username
    }
    sent_best_friend_requests{
      name
      username
    }
  }
}


GET USERS
{queryUser(filter: {}){username name friends{ username name}}}


GET_USER_WITH_USERNAME
{
  getUser(username: "a"){
    username
    name
    friends{
      username
      name
    }
  }
}


ADD USER
mutation AddUser{
  addUser(input:[{
    username: "e",
    name: "E"
  }])
  {
    user{
      username
      name
      friends{
        username
        name
      }
    }
  }
}

ADD FRIEND
mutation UpdateUser{
  updateUser(input: {
    filter: {
      username: {
        eq: "a"
      }
    }
    set: {
      friends: [
        {
          username: "h"
        }
      ]
    }
  }){
    user{
      username
      name
      friends{
        username
        name
      }
    }
  }
}

ADD BEST FRIEND
mutation AddBestFriend {
    updateUser(input: 
      {filter: {username: {eq: "a"}}, 
        remove: {friends: [{username: "b"}]}, 
        set: {best_friends: [{username: "b"}]}
      }){
    user{
      username
      name
      friends{
        username
        name
      }
      best_friends{
        username
        name
      }
    }
  }
}